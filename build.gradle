/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java library project to get you started.
 * For more details on building Java & JVM projects, please refer to https://docs.gradle.org/8.5/userguide/building_java_projects.html in the Gradle documentation.
 */

plugins {
    // Apply the java-library plugin for API and implementation separation.
    id 'java-library'
    id 'com.google.protobuf' version '0.9.4'
    
}
apply from: file("${rootDir}/buildSrc/publishing.gradle")

repositories {
    // Use Maven Central for resolving dependencies.
    mavenCentral()
}

dependencies {
    implementation 'com.google.protobuf:protobuf-java:3.21.12'

}

// Apply a specific Java toolchain to ease working on different environments.
java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(17)
    }
}

  group = "com.cs"
  version = '2.0.0'

  jar {

    manifest {
      attributes(
          "Class-Path": "com.cs",
          "Implementation-Title": project.name,
          "Implementation-Version": version,
          "Implementation-Vendor": "ms",
          "Build-Jdk": org.gradle.internal.jvm.Jvm.current(),
          "Gradle-Version": GradleVersion.current().toString()
          )
    }
  }
  
/*
 49 = Java 5
 50 = Java 6
 51 = Java 7
 52 = Java 8
 53 = Java 9
 54 = Java 10
 55 = Java 11
 56 = Java 12
 57 = Java 13
 58 = Java 14
 59 = Java 15
 60 = Java 16
 61 = Java 17
 62 = Java 18
 63 = Java 19
 64 = Java 20
 65 = Java 21
 */
   protobuf {
        protoc {
            artifact = 'com.google.protobuf:protoc:3.21.7'
        }
        generateProtoTasks {
            all().forEach { task ->
                task.builtins {
                    java { }
                }
            }
        }
    }

    sourceSets {
        main {
            java {
                srcDir 'build/generated/source/proto/main/java'
            }
        }
    }